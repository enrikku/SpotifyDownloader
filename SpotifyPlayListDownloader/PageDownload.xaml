<Window
    x:Class="SpotifyDownloader.PageDownload"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="Spotify Playlist Downloader"
    Width="860"
    Height="480"
    Background="#121212"
    WindowStartupLocation="CenterScreen">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <Border
            Grid.Row="0"
            Padding="18"
            Background="{StaticResource CardBrush}"
            BorderBrush="#22FFFFFF"
            BorderThickness="0,0,0,1"
            Style="{StaticResource Card}">
            <Grid>
                <TextBlock Style="{StaticResource TitleText}" Text="Descargar contenido" />
                <Border
                    Height="4"
                    VerticalAlignment="Bottom"
                    Background="{StaticResource AccentBrush}"
                    CornerRadius="2"
                    Opacity="0.9" />
            </Grid>
        </Border>

        <Border
            Grid.Row="1"
            Margin="24"
            Padding="24"
            Background="{StaticResource CardBrush}"
            CornerRadius="14"
            Style="{StaticResource Card}">
            <Grid>

                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />

                    <RowDefinition Height="12" />

                    <RowDefinition Height="Auto" />

                    <RowDefinition Height="12" />

                    <RowDefinition Height="Auto" />

                    <RowDefinition Height="12" />

                    <RowDefinition Height="Auto" />

                    <RowDefinition Height="16" />

                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="180" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <!--  Intro  -->
                <TextBlock
                    Grid.Row="0"
                    Grid.ColumnSpan="3"
                    Style="{StaticResource SubtitleText}"
                    Text="Pegue la URL y elija la carpeta de destino." />

                <!--  Playlist/Artist URL or ID  -->
                <TextBlock
                    Grid.Row="2"
                    Grid.Column="0"
                    VerticalAlignment="Center"
                    Text="Playlist/Artist:" />

                <TextBox
                    x:Name="Url"
                    Grid.Row="2"
                    Grid.Column="1"
                    MinWidth="320"
                    Margin="8,0,8,0"
                    ToolTip="Pegue aquí la URL completa o el ID" />

                <Button
                    Grid.Row="2"
                    Grid.Column="2"
                    Width="36"
                    Height="36"
                    Click="ShowHelp_Click"
                    Style="{StaticResource PrimaryButton}"
                    ToolTip="Cómo obtener el ID">
                    <TextBlock
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        FontFamily="Segoe MDL2 Assets"
                        FontSize="16"
                        Text="&#xE946;" />
                </Button>

                <!--  Output folder  -->
                <TextBlock
                    Grid.Row="4"
                    Grid.Column="0"
                    VerticalAlignment="Center"
                    Text="Descargar en:" />

                <TextBox
                    x:Name="OutputPathTextBox"
                    Grid.Row="4"
                    Grid.Column="1"
                    MinWidth="320"
                    Margin="8,0,8,0"
                    ToolTip="Carpeta donde se guardarán los archivos" />

                <Button
                    Grid.Row="4"
                    Grid.Column="2"
                    Height="36"
                    MinWidth="120"
                    Margin="0,0,0,0"
                    Click="BrowseButton_Click"
                    Content="Explorar…"
                    Style="{StaticResource PrimaryButton}" />

                <!--  Check: Crear en una sola carpeta  -->
                <CheckBox
                    x:Name="chkSingleFolder"
                    Grid.Row="6"
                    Grid.ColumnSpan="3"
                    Margin="0,0,0,0"
                    Content="Crear en una sola carpeta"
                    ToolTip="Si está activo, todo el contenido se descargará dentro de la misma carpeta, sin subcarpetas por artista/álbum." />

                <!--  Download  -->
                <StackPanel
                    Grid.Row="8"
                    Grid.ColumnSpan="3"
                    HorizontalAlignment="Left"
                    Orientation="Horizontal">

                    <!--  Importar  -->
                    <Button
                        x:Name="ImportButton"
                        Width="140"
                        Height="40"
                        Margin="0,0,10,0"
                        Click="ImportButton_Click"
                        Style="{StaticResource PrimaryButton}"
                        ToolTip="Importa un .txt con una URL de artista por línea">
                        <StackPanel HorizontalAlignment="Center" Orientation="Horizontal">
                            <TextBlock
                                Margin="0,0,8,0"
                                FontFamily="Segoe MDL2 Assets"
                                FontSize="16"
                                Text="&#xE8B7;" />
                            <TextBlock Text="Importar…" />
                        </StackPanel>
                    </Button>

                    <Button
                        Width="200"
                        Height="40"
                        Click="DownloadButton_Click"
                        Style="{StaticResource PrimaryButton}">
                        <StackPanel HorizontalAlignment="Center" Orientation="Horizontal">
                            <TextBlock
                                Margin="0,0,8,0"
                                FontFamily="Segoe MDL2 Assets"
                                FontSize="16"
                                Text="&#xE896;" />
                            <TextBlock Text="Descargar Canciones" />
                        </StackPanel>
                    </Button>

                    <TextBlock
                        x:Name="lblStatus"
                        Margin="8,0,0,0"
                        VerticalAlignment="Center"
                        Opacity="0.85"
                        TextWrapping="Wrap" />
                </StackPanel>
            </Grid>
        </Border>

        <!--  Footer accent (opcional)  -->
        <Border
            Grid.Row="2"
            Height="2"
            Background="{StaticResource AccentBrush}"
            Opacity="0.6" />
    </Grid>
</Window>